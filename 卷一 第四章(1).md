# 卷一 第四章(1)

## 4.1 面向对象程序设计概述

面向对象程序设计(OOP: Object Oriented Programming)。

1. 面向对象的程序是由对象组成的，每个对象包含对用户**公开**的特定**功能**部分和**隐藏**的**实现**部分。(公开功能、隐藏实现)。

2. OOP，将数据放在第一位，然后在考虑操作数据的算法。而结构化程序设计是首先要确定如何操作数据，再决定如何组织数据，以便数据操作。

### 4.1.1 类

1. 类(class)是构造对象的模板或蓝图。

2. 由类**构造对象**(construct)的过程称为创建**类的实例**(instance)

3. **封装**(encapsulation，或称为**数据隐藏**)，是与对象有关的一个重要概念，是将数据和行为组合在一个包中，并对对象的使用者隐藏了数据的实现方式。

4. 对象中的**数据**称为**实例域**(instance filed)，就是实际应用中的属性；操纵数据的过程称为**方法**(method)；

5. **每个特定的类实例（对象，或者new之后的对象）都有一组特定的实例域值**。这些值得集合就是这个对象的当前状态（state）。

6. 实现封装的关键在于**绝对不能**让类中的**方法直接地**访问**其他类的实例域**。而是仅通过对象的方法与对象数据进行交互。

7. 封装是提高重用性和可靠性的关键。

8. 继承（inheritance，关键字是extends），是OOP的另一个原则。扩展一个已有的类，这个扩展后的新类具有所扩展的类的全部属性和方法。通过扩展一个类来建立另一个类的过程称为**继承**。

9. 在Java中，所有的类都源自一个类"Object"。

### 4.1.2 对象

1. OOP的对象有三个主要特征：

   1. 对象的行为（behavior），可以对对象施加哪些操作，或可以对对象施加哪些方法？对象的行为是用**可调用的方法**定义的。

   2. 对象的状态（state），当施加那些方法时，对象如何响应，或对象中的实例域值的变化？每个对象都保存着**描述当前特征的信息**。对象状态的改变**必须**通过调用方法实现，不然说明封装性遭到了破坏。

   3. 对象标识（identity），如何辨别具有相同行为与状态的不同对象？由于对象的状态并不能完全描述一个对象，所有每个对象都有一个唯一的身份（identity）。每个对象的标识永远是不同的，状态常常也存在着差异。

### 4.1.3 识别类

​	识别类的简单规则就是在分析问题的过程中寻找名称，而方法对应着动词。

### 4.1.4 类之间的关系

1. 依赖（dependence，“uses-a”）：如果一个类A的方法操纵另一个类B的对象，那么一个类A依赖于另一个类B。

2. 聚合（aggregation，“has-a”）：类A的对象包含类B的对象。

3. 继承（inheritance，“is-a”）：是一种用于表示特殊与一般关系的。例如类A从类B继承而来，那么类A就是类B的特殊。

<span style="color: blue">注释：</span>UML（Unified Modeling Language，统一建模语言）。**需要另学**

## 4.2 使用预定义类

### 4.2.1 对象与对象变量

1. 对象
   1. 使用对象前，必须首先构造对象，并指定其初始状态。然后，对对象应用方法。
   2. 使用**构造器**（constructor）构造新实例。**构造器**是一种特殊的**方法**，用来**构造并初始化对象**。
   3. 构造器的名字必须**与类名相同**，在构造器前面加上**new**操作符。例如：```new Date();```，该表达式构造了一个新对象，这个对象被初始化为当前的日期和时间。可以将这个对象传递给一个方法，例如：```System.out.println(new Date());```；或者将一个方法应用于刚刚创建的对象，例如：```String s = new Date().toString();```。

2. 对象变量

   1. 如果想将构造的对象进行多次使用，此时需要将对象**存放**在一个变量中。```Date birthday = new Date();```。这个变量称为：对象变量。

   2. 对象变量不是一个对象，当没有引用对象时，是不能将方法应用于这个变量上。例如：

      ```java
      Date deadline;
      s = deadline.toString();// 此时会产生编译错误。
      ```

   3. 为避免上述问题。必须首先初始化变量deadline。

      两个选择：

       1. 用新构造的对象初始化这个变量。

       2. 让这个变量引用一个已存在的对象。```deadline = birthday；```，此时这两个变量引用同一个对象。

3.  <span style="color:red">一个对象变量并没有实际包含一个对象，而仅仅引用一个对象。</span>

4. 在Java中，任何**对象变量的值**都是对存储在另一个地方的一个对象的**引用**。new操作符的返回值也是一个引用。所以：```Date deadline = new Date();```有两个部分。第一，表达式```new Date()```构造了一个Date类型的对象，并且它的值是对新创建对象的引用。第二，这个引用存储在对象变量deadline中。

5. 可以显式地将对象变量设置为null，以表明这个对象变量目前没有引用任何对象，那么此时将一个方法应用于这个对象上，那么就会产生**运行时错误**。

6. **局部变量**不会自动地初始化为null，而必须通过调用new或将它们设置为null进行初始化。

### 4.2.2 Java类库中的LocalDate类（略）
### 4.2.3 更改器方法与访问器方法
1. 更改器方法会改变原有对象的状态
2. 访问器方法只访问方法而不修改对象的方法